<!doctype html><html dir=ltr lang=en data-theme><head><title>Slav
|
Simplest Arduino Clock With 7-digit segment display</title><meta charset=utf-8><meta name=generator content="Hugo 0.104.3"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="
      Call me Slav


    "><link rel=stylesheet href=/css/main.min.0a28517cc8cf1577ac08fce9aed49bbe584c350d58aaf61fb13d6cb13792aeb7.css integrity="sha256-CihRfMjPFXesCPzprtSbvlhMNQ1YqvYfsT1ssTeSrrc=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.8e4c8f0a940b1596fb4c64d28a00a5ceed671fc303cb65178b4947417da9c674.css integrity="sha256-jkyPCpQLFZb7TGTSigClzu1nH8MDy2UXi0lHQX2pxnQ=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/custom.min.4422e856fcd6f2ee14f32638fe94285230801e7900face89ab29c81910e7e7ba.css integrity="sha256-RCLoVvzW8u4U8yY4/pQoUjCAHnkA+s6JqynIGRDn57o=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=canonical href=/simplest-arduino-clock-with-7-digit-segment-display/><script type=text/javascript src=/js/anatole-header.min.d0408165d31a17f17bba83038bf54e86121f85021bdf936382e636f0f77a952f.js integrity="sha256-0ECBZdMaF/F7uoMDi/VOhhIfhQIb35NjguY28Pd6lS8=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/anatole-theme-switcher.min.ea8ebe268922ef9849261a1312cd65b640595e65251ce4c00534a176afd1ac0c.js integrity="sha256-6o6+Joki75hJJhoTEs1ltkBZXmUlHOTABTShdq/RrAw=" crossorigin=anonymous></script><meta name=twitter:card content="summary"><meta name=twitter:title content="Simplest Arduino Clock With 7-digit segment display"><meta name=twitter:description content="From time to time, I’m also working on less “web” related project. This time, a wanted to play a bit with Arduino platform. The task was pretty simple – to build a clock. Yes – these days, we don’t have enough time measuring devices like mobiles, microwaves, computers – I wanted to build another one.
It was my first Arduino project so the task wasn’t  as easy as I expected. In the theory, we need only pass time & data from RTC to 7-Segment Display. Simple isn’t it? I found plenty of tutorials, had so many small issues like – digits wasn’t displayed correctly (mixed cables). I could only display one digit at the time in given position or – same digits everywhere (multiplexing). I couldn’t find shift register in my stock, so wanted to use whatever I already had."><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Simplest Arduino Clock With 7-digit segment display","headline":"Simplest Arduino Clock With 7-digit segment display","alternativeHeadline":"","description":"
      
        \u003cp\u003eFrom time to time, I’m also working on less “web” related project. This time, a wanted to play a bit with Arduino platform. The task was pretty simple – to build a clock. Yes – these days, we don’t have enough time measuring devices like mobiles, microwaves, computers – I wanted to build another one.\u003c\/p\u003e\n\u003cp\u003eIt was my first Arduino project so the task wasn’t  as easy as I expected. In the theory, we need only pass time \u0026amp; data from RTC to 7-Segment Display. Simple isn’t it? I found plenty of tutorials, had so many small issues like – digits wasn’t displayed correctly (mixed cables). I could only display one digit at the time in given position or – same digits everywhere (multiplexing). I couldn’t find shift register in my stock, so wanted to use whatever I already had.\u003c\/p\u003e


      


    ","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"\/simplest-arduino-clock-with-7-digit-segment-display\/"},"author":{"@type":"Person","name":"admin"},"creator":{"@type":"Person","name":"admin"},"accountablePerson":{"@type":"Person","name":"admin"},"copyrightHolder":{"@type":"Person","name":"admin"},"copyrightYear":"2013","dateCreated":"2013-11-30T02:10:58.00Z","datePublished":"2013-11-30T02:10:58.00Z","dateModified":"2013-11-30T02:10:58.00Z","publisher":{"@type":"Organization","name":"admin","url":"/","logo":{"@type":"ImageObject","url":"\/favicon-32x32.png","width":"32","height":"32"}},"image":[],"url":"\/simplest-arduino-clock-with-7-digit-segment-display\/","wordCount":"457","genre":["Arduino"],"keywords":["clock"]}</script></head><body><header><div class="page-top
animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a><nav><ul class=nav__list id=navMenu><div class=nav__links><li><a href=/about/ title=About>About</a></li><li><a href=/posts/ title>Blog</a></li><li><a href=/categories/arduino/ title>Arduino</a></li><li><a href=/categories/work/ title>Work</a></li><li><a href=/contact/ title=Contact>Contact</a></li><li><a href=/ title=EN>EN</a></li><li><a href=/pl/ title=PL>PL</a></li></div><li><a class=theme-switch title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></li></ul></nav></div></header><div class=wrapper><aside><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=logo-title><div class=title><img src=/images/slavsq.jpg alt="profile picture"><h3 title><a href=/>My blog</a></h3><div class=description><p>Call me Slav</p></div></div></div><ul class=social-links><li><a href=https://linkedin.com/in/slawomirjasinski rel=me aria-label=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li><a href=https://github.com/slav123 rel=me aria-label><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li><a href=https://stackoverflow.com/users/432573/ rel=me aria-label="Stack Overflow"><i class="fab fa-stack-overflow fa-2x" aria-hidden=true></i></a></li><li><a href=https://twitter.com/slavomirj rel=me aria-label><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li><a href=https://www.instagram.com/slavomirj/ rel=me aria-label=instagram><i class="fab fa-instagram fa-2x" aria-hidden=true></i></a></li><li><a href=https://www.spidersoft.com.au rel=me aria-label=business><i class="fas fa-business-time fa-2x" aria-hidden=true></i></a></li><li><a href=mailto:slav123@gmail.com rel=me aria-label=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer--sidebar"><div class=by_farbox><ul class=footer__list><li class=footer__item>&copy;
2011-2022</li></ul></div></footer><script type=text/javascript src=/js/medium-zoom.min.44288fd315b6cda68c1f4743caad56535c0f81a5b5a672f385e82b3896575c1d.js integrity="sha256-RCiP0xW2zaaMH0dDyq1WU1wPgaW1pnLzhegrOJZXXB0=" crossorigin=anonymous></script></div></aside><main><div class=autopagerize_page_element><div class=content><div class="post
animated fadeInDown"><div class=post-content><img class=post-thumbnail src=/images/2013/11/IMG_0328-310x310.jpg alt="Thumbnail image"><div class=post-title><h1>Simplest Arduino Clock With 7-digit segment display</h1><div class=info><em class="fas fa-calendar-day"></em>
<span class=date>Sat, Nov 30, 2013</span>
<em class="fas fa-stopwatch"></em>
<span class=reading-time>3-minute read</span></div></div><p>From time to time, I’m also working on less “web” related project. This time, a wanted to play a bit with Arduino platform. The task was pretty simple – to build a clock. Yes – these days, we don’t have enough time measuring devices like mobiles, microwaves, computers – I wanted to build another one.</p><p>It was my first Arduino project so the task wasn’t  as easy as I expected. In the theory, we need only pass time & data from RTC to 7-Segment Display. Simple isn’t it? I found plenty of tutorials, had so many small issues like – digits wasn’t displayed correctly (mixed cables). I could only display one digit at the time in given position or – same digits everywhere (multiplexing). I couldn’t find shift register in my stock, so wanted to use whatever I already had.</p><p>I already was a proud owner of the whole set, which was:</p><ol><li>Arduino UNO R3,</li><li>DS1307 Real Time Clock,</li><li>7-Segment Display,</li><li>bunch of resistors, cables, and plenty of free time</li></ol><table><thead><tr><th>7-Segment Display</th><th>DS1307 Real Time Clock</th><th>Real-Time-Clock-Module</th></tr></thead><tbody><tr><td><img src=/images/2013/11/7-Segment-LED-Display-4-Digits-Common-Anode-High-Light-Red-KHN40561-.jpg alt></td><td><img src=/images/2013/11/Tiny-RTC-I2C-DS1307-Real-Time-Clock-Module-ARM-PIC-for-Arduino-1_10-more-1.jpg alt></td><td><img src=/images/2013/11/Tiny-RTC-I2C-DS1307-Real-Time-Clock-Module-ARM-PIC-for-Arduino-1_10-more-3.jpg alt></td></tr></tbody></table><p>working maginc</p><p><img src=/images/2013/11/IMG_0326.jpg alt></p><p> </p><p> </p><p>Let’s cook!</p><ul><li><a href=http://playground.arduino.cc/Main/SevenSegmentLibrary>SevSeg library</a>
– even I wasn’t using SparkFun display,</li><li><a href=http://www.pjrc.com/teensy/td_libs_DS1307RTC.html>DS1307RTC Library</a>
 – library to read data from DS1307RTC</li></ul><p> </p><h2 id=sevseg-setup>SevSeg setup</h2><p>From read.me file:</p><blockquote><p>The first argument (boolean) tells whether the display is common cathode (0) or common anode (1).<br>The next four arguments (bytes) tell the library which arduino pins are connected to the digit pins of the seven segment display. Put them in order from left to right.<br>The next eight arguments (bytes) tell the library which arduino pins are connected to the segment pins of the seven segment display. Put them in order a to g then the dp.</p></blockquote><p>That was the hardest part of my whole build. Setting up SevSeg to work with my wiring.</p><p><code>sevseg.Begin(0, 4, 3, 2, 1, 12, 11, 10, 9, 8, 7, 6, 5);</code></p><p>Mine was pretty simple. I had a version with common cathode – the first digit is 0, then – pins connecting t a cathode (digit handling) and then segments displays – in my case digital outputs in androino 6-12 (A to G) Number 5 points to dot digit.</p><pre tabindex=0><code>#include &#34;SevSeg.h&#34;
#include &lt;DS1307RTC.h&gt;
#include &lt;Time.h&gt;
#include &lt;Wire.h&gt;
//Create an instance of the object.
SevSeg sevseg;
void setup() {
    //I am using a common anode display, with the digit pins connected
    sevseg.Begin(0, 4, 3, 2, 1, 12, 11, 10 , 9, 8, 7, 6,5);`

    //Set the desired brightness (0 to 100);  
    sevseg.Brightness(90);  
}  
void loop() {  
    tmElements_t tm;  
    int time;  
    int dot;  
    if (RTC.read(tm))
    {  
        time = tm.Hour * 100;  
        time += tm.Minute;  
    }  
    
    if ((tm.Second % 2) == 0)  
        dot = 4;  
    else  
        dot = 2;  
    
    //Produce an output on the display  
    sevseg.PrintOutput();  
    sevseg.NewNum(time, dot);  
}
</code></pre></div><div class=post-footer><div class=info><span class=separator><a class=category href=/categories/arduino/>Arduino</a></span>
<span class=separator><a class=tag href=/tags/clock/>clock</a></span></div></div></div></div></div></main></div><footer class="footer footer--base"><div class=by_farbox><ul class=footer__list><li class=footer__item>&copy;
2011-2022</li></ul></div></footer><script type=text/javascript src=/js/medium-zoom.min.44288fd315b6cda68c1f4743caad56535c0f81a5b5a672f385e82b3896575c1d.js integrity="sha256-RCiP0xW2zaaMH0dDyq1WU1wPgaW1pnLzhegrOJZXXB0=" crossorigin=anonymous></script></body></html>